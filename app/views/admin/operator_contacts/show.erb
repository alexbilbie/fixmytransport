<h2><%= t(:operator_contacts_for, :operator => @operator_contact.name) %></h2>
<h3><%= t(:edit) %></h3>
<%-form_for :operator_contact, @operator_contact, :url => admin_url(admin_operator_contact_path(@operator_contact)), :html => { :method => :put,  :class => 'operator-contact-form' } do |f| %>
  <%= render :partial => 'form', :locals => { :f => f } %>
<%- end %>
<h3><%= t(:history) %></h3>
<table class='history index-list'>
  <tr>
    <th width='20%'><%= t(:updated_at) %></th>
    <th width='20%'><%= t(:email) %></th>
    <th width='7%'><%= t(:confirmed)  %></th>
    <th width='7%'><%= t(:deleted)  %></th>
    <th width='10%'><%= t(:editor)  %></th>
    <th width='10%'><%= t(:location)  %></th>
    <th width='28%'><%= t(:notes) %></th>
  </tr>
  <tr class="<%= cycle('odd', 'even') %>">
    <td><%= @operator_contact.updated_at %></td>
    <td><%= @operator_contact.email %></td>
    <td><%= @operator_contact.confirmed %></td>
    <td><%= @operator_contact.deleted %></td>
    <td><%= @operator_contact.last_editor %></td>
    <%- if @operator_contact.location_id %>
      <td><%= @operator_contact.location.name %>
      </td>
    <%- else %>
      <td>
      </td>
    <%- end %>
    <td><%= @operator_contact.notes   %></td>
  </tr>
  <%- @operator_contact.versions.reverse.each do |version| %>
    <%- if version.event == 'update' %>
      <%- contact = version.reify %>
      <tr class="<%= cycle('odd', 'even') %>">
        <td><%= version.created_at %></td>
        <td><%= contact.email %></td>
        <td><%= contact.confirmed %></td>
        <td><%= contact.deleted %></td>
        <td><%= version.whodunnit %></td>
        <%- if contact.location %>
          <td><%= contact.location.name %>
          </td>
        <%- else %>
          <td>
          </td>
        <%- end %>
        <td><%= contact.notes %></td>
      </tr>
    <%- end %>
  <%- end %>
</table>
